{"version":3,"file":"rgb-color.min.js","sources":["../src/named-colors.js","../src/color-defs.js","../src/rgb-color.js"],"sourcesContent":["const namedColors = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dodgerblue: '1e90ff',\n  feldspar: 'd19275',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgrey: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslateblue: '8470ff',\n  lightslategray: '778899',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '00ff00',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'ff00ff',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370d8',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'd87093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  red: 'ff0000',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  violetred: 'd02090',\n  wheat: 'f5deb3',\n  white: 'ffffff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ffff00',\n  yellowgreen: '9acd32',\n};\n\nexport default namedColors;\n","const colorDefs = [\n  {\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n    example: ['rgb(123, 234, 45)', 'rgb(255,234,245)'],\n    process(bits) {\n      return [\n        parseInt(bits[1], 10),\n        parseInt(bits[2], 10),\n        parseInt(bits[3], 10),\n      ];\n    },\n  },\n  {\n    re: /^hsl\\(((((([12]?[1-9]?\\d)|[12]0\\d|(3[0-5]\\d))(\\.\\d+)?)|(\\.\\d+))(deg)?|(0|0?\\.\\d+)turn|(([0-6](\\.\\d+)?)|(\\.\\d+))rad)((,\\s?(([1-9]?\\d(\\.\\d+)?)|100|(\\.\\d+))%){2}|(\\s(([1-9]?\\d(\\.\\d+)?)|100|(\\.\\d+))%){2})\\)$/i,\n    example: ['hsl(180,100%,50%)', 'hsl(90 90% 30%)'],\n    process(bits) {\n      let hsl = bits[0];\n      console.log('in', bits[0])\n      const sep = hsl.indexOf(',') > -1 ? ',' : ' ';\n      hsl = hsl.substr(4).split(')')[0].split(sep);\n\n      let h = hsl[0];\n      const s = hsl[1].substr(0, hsl[1].length - 1) / 100;\n      const l = hsl[2].substr(0, hsl[2].length - 1) / 100;\n\n      // strip label and convert to degrees (if necessary)\n      if (h.indexOf('deg') > -1) h = h.substr(0, h.length - 3);\n      else if (h.indexOf('rad') > -1) h = Math.round(h.substr(0, h.length - 3) / (2 * Math.PI) * 360);\n      else if (h.indexOf('turn') > -1) h = Math.round(h.substr(0, h.length - 4) * 360);\n      // keep hue fraction of 360 if ending up over\n      if (h >= 360) h %= 360;\n\n      const c = (1 - Math.abs(2 * l - 1)) * s;\n      const x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n      const m = l - c / 2;\n      let r = 0;\n      let g = 0;\n      let b = 0;\n\n      if (h >= 0 && h < 60) {\n        r = c; g = x; b = 0;\n      } else if (h >= 60 && h < 120) {\n        r = x; g = c; b = 0;\n      } else if (h >= 120 && h < 180) {\n        r = 0; g = c; b = x;\n      } else if (h >= 180 && h < 240) {\n        r = 0; g = x; b = c;\n      } else if (h >= 240 && h < 300) {\n        r = x; g = 0; b = c;\n      } else if (h >= 300 && h < 360) {\n        r = c; g = 0; b = x;\n      }\n\n      r = Math.round((r + m) * 255);\n      g = Math.round((g + m) * 255);\n      b = Math.round((b + m) * 255);\n\n      console.log('out', h, r,g,b)\n      return [r, g, b];\n    },\n  },\n  {\n    re: /^(\\w{2})(\\w{2})(\\w{2})$/,\n    example: ['#00ff00', '336699'],\n    process(bits) {\n      return [\n        parseInt(bits[1], 16),\n        parseInt(bits[2], 16),\n        parseInt(bits[3], 16),\n      ];\n    },\n  },\n  {\n    re: /^(\\w{1})(\\w{1})(\\w{1})$/,\n    example: ['#fb0', 'f0f'],\n    process(bits) {\n      return [\n        parseInt(bits[1] + bits[1], 16),\n        parseInt(bits[2] + bits[2], 16),\n        parseInt(bits[3] + bits[3], 16),\n      ];\n    },\n  },\n];\n\nexport default colorDefs;\n","import namedColors from './named-colors';\nimport colorDefs from './color-defs';\n\n/**\n * RGBColor\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\nclass RGBColor {\n  constructor(color) {\n    let colorString = color;\n    this.ok = false;\n\n    // just accept strings\n    if (!(typeof colorString === 'string')) {\n      return;\n    }\n\n    // strip any leading #\n    if (colorString.charAt(0) === '#') { // remove # if any\n      colorString = colorString.substr(1, 6);\n    }\n\n    colorString = colorString.trim().toLowerCase();\n    if (colorString.indexOf('(') === -1) {\n      colorString = colorString.replace(/ /g, '')\n    }\n\n    // before getting into regexps, try simple matches\n    // and overwrite the input\n    if (Object.prototype.hasOwnProperty.call(namedColors, colorString)) {\n      ({ [colorString]: colorString } = namedColors);\n    }\n    // emd of simple type-in colors\n\n    // search through the definitions to find a match\n    for (let i = 0; i < colorDefs.length; i += 1) {\n      const def = colorDefs[i];\n      const bits = def.re.exec(colorString);\n      if (bits) {\n        ([this.r, this.g, this.b] = def.process(bits));\n        this.ok = true;\n      }\n    }\n\n    // validate/cleanup values\n    if (this.r < 0 || Number.isNaN(this.r) || this.r === undefined) {\n      this.r = 0;\n    } else if (this.r > 255) {\n      this.r = 255;\n    }\n    if (this.g < 0 || Number.isNaN(this.g) || this.g === undefined) {\n      this.g = 0;\n    } else if (this.g > 255) {\n      this.g = 255;\n    }\n    if (this.b < 0 || Number.isNaN(this.b) || this.b === undefined) {\n      this.b = 0;\n    } else if (this.b > 255) {\n      this.b = 255;\n    }\n  }\n\n  isValid() {\n    return this.ok;\n  }\n\n  rgb() {\n    return `rgb(${this.r}, ${this.g}, ${this.b})`;\n  }\n\n  hex() {\n    let r = this.r.toString(16);\n    let g = this.g.toString(16);\n    let b = this.b.toString(16);\n    if (r.length === 1) r = `0${r}`;\n    if (g.length === 1) g = `0${g}`;\n    if (b.length === 1) b = `0${b}`;\n    return `#${r}${g}${b}`;\n  }\n\n  channels() {\n    return { r: this.r, g: this.g, b: this.b };\n  }\n}\n\nexport default function rgbcolor(color) {\n  return new RGBColor(color);\n}\n"],"names":["namedColors","colorDefs","bits","parseInt","hsl","log","sep","indexOf","h","substr","split","s","length","l","Math","round","PI","c","abs","x","m","r","g","b","RGBColor","color","colorString","ok","charAt","trim","toLowerCase","replace","Object","prototype","hasOwnProperty","call","i","def","re","exec","process","this","Number","isNaN","undefined","toString"],"mappings":"oLAAA,IAAMA,EAAc,WACP,sBACG,cACR,oBACM,eACL,eACA,gBACC,eACD,wBACS,cACV,oBACM,eACL,mBACI,mBACA,oBACC,mBACD,eACJ,wBACS,kBACN,iBACD,cACH,kBACI,kBACA,uBACK,kBACL,mBACC,mBACA,qBACE,wBACG,oBACJ,oBACA,iBACH,oBACG,sBACE,uBACC,uBACA,uBACA,oBACH,kBACF,qBACG,iBACJ,oBACG,kBACF,mBACC,qBACE,qBACA,iBACJ,mBACE,oBACC,cACN,mBACK,cACL,eACC,qBACM,kBACH,iBACD,mBACE,gBACH,eACD,eACA,kBACG,uBACK,mBACJ,sBACG,mBACH,oBACC,mBACD,8BACW,mBACX,oBACC,mBACD,qBACE,uBACE,sBACD,wBACE,wBACA,wBACA,qBACH,cACP,mBACK,eACJ,iBACE,gBACD,0BACU,oBACN,sBACE,sBACA,wBACE,yBACC,2BACE,yBACF,yBACA,sBACH,mBACH,mBACA,kBACD,qBACG,cACP,iBACG,eACF,mBACI,gBACH,mBACG,gBACH,uBACO,mBACJ,uBACI,uBACA,oBACH,mBACD,cACL,cACA,cACA,oBACM,gBACJ,aACH,mBACM,mBACA,qBACE,gBACL,oBACI,kBACF,kBACA,gBACF,gBACA,iBACC,mBACE,mBACA,cACL,qBACO,mBACF,aACN,cACC,iBACG,gBACD,mBACG,gBACH,mBACG,eACJ,eACA,oBACK,gBACJ,qBACK,UC/ITC,EAAY,CAChB,IACM,uDACK,CAAC,oBAAqB,qCACvBC,SACC,CACLC,SAASD,EAAK,GAAI,IAClBC,SAASD,EAAK,GAAI,IAClBC,SAASD,EAAK,GAAI,OAIxB,IACM,uNACK,CAAC,oBAAqB,oCACvBA,OACFE,EAAMF,EAAK,WACPG,IAAI,KAAMH,EAAK,QACjBI,GAA0B,EAApBF,EAAIG,QAAQ,KAAY,IAAM,IAGtCC,KAFEJ,EAAIK,OAAO,GAAGC,MAAM,KAAK,GAAGA,MAAMJ,IAE5B,GACNK,EAAIP,EAAI,GAAGK,OAAO,EAAGL,EAAI,GAAGQ,OAAS,GAAK,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"}